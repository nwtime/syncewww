<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=content-security-policy content="default-src 'self'; connect-src 'self' https://www.clarity.ms https://j.clarity.ms https://www.google-analytics.com https://t.clarity.ms; child-src 'self'; font-src 'self' https://fonts.gstatic.com; form-action 'self'; frame-src 'self' https://secure.lglforms.com; img-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.google-analytics.com https://www.googletagmanager.com https://www.google.com https://clients1.google.com https://www.googleapis.com https://cse.google.com https://encrypted-tbn0.gstatic.com https://encrypted-tbn3.gstatic.com https://c.clarity.ms https://c.bing.com http://clients1.google.com; object-src 'none'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cse.google.com https://www.google.com; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.google-analytics.com https://www.googletagmanager.com https://cse.google.com https://www.google.com https://www.clarity.ms http://cse.google.com https://secure.lglforms.com;"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel=canonical href=https://sync-e.nwtime.org/syncesmc/documentation/><meta property="og:title" content="Documentation"><meta property="og:description" content="Documentation for SyncMonk SyncESMC"><meta property="og:type" content="article"><meta property="og:url" content="https://sync-e.nwtime.org/syncesmc/documentation/"><meta property="og:image" content="https://sync-e.nwtime.org/images/featured.webp"><meta property="article:section" content="syncesmc"><meta property="og:site_name" content="SyncE Projects"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://sync-e.nwtime.org/images/featured.webp"><meta name=twitter:title content="Documentation"><meta name=twitter:description content="Documentation for SyncMonk SyncESMC"><script>window.onload=demo;function demo(){document.getElementById("gsc-i-id1").setAttribute("placeholder","Search...")}</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-GX2RY34XWL"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-GX2RY34XWL',{anonymize_ip:!0})</script><script type=text/javascript>(function(a,e,b,f,g,c,d){a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},c=e.createElement(f),c.async=1,c.src="https://www.clarity.ms/tag/"+g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d)})(window,document,"clarity","script","j1ut0n0mtn")</script><link rel=dns-prefetch href=//fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com/ crossorigin><link href="https://fonts.googleapis.com/css?family=Nunito+Sans:400,400i,700,800,800i,900i&display=swap" rel=stylesheet><title>Documentation</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation for SyncMonk SyncESMC"><meta name=generator content="Hugo 0.83.1"><link rel=stylesheet href=/scss/nwtime.min.6518b367ab9894fc6df3875df85f4dc1.css media=screen></head><body><nav class="navbar navbar-expand-lg navbar-light"><div class=container-fluid><div><a class=navbar-brand href=https://www.nwtime.org><img height=80 width=80 src=https://sync-e.nwtime.org/images/logo.png alt></a>
<a class=navbar-brand style=color:#1a79c0!important;font-size:18px;font-weight:700;margin-left:20px href=https://sync-e.nwtime.org/>SyncE Projects</a></div><div><button class="btn btn-primary btn-lg" type=button><a class="nav-item btn btn-primary btn-lg" style=text-decoration:none;text-transform:uppercase href=/donate/>Support<br>SyncE!</a></button></div><script async src="https://cse.google.com/cse.js?cx=7474c4c5ca53f79ef"></script><div class=gcse-search></ul></div></nav><div class=header-border></div><section class="section pt-0 pb-auto"><div class=container><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://sync-e.nwtime.org/syncesmc/>SyncMonk SyncESMC</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://sync-e.nwtime.org/syncesmc/documentation/>Documentation</a></li></ol></nav><h1 id=documentation>Documentation</h1><h4 id=table-of-contents>Table of Contents</h4><ul><li><a href=/syncesmc/documentation/#overview>Overview</a><ul><li><a href=/syncesmc/documentation/#synchronization-network-topology>Synchronization Network Topology</a></li><li><a href=/syncesmc/documentation/#why-syncesmc>Why SyncESMC</a></li></ul></li><li><a href=/syncesmc/documentation/#architecture>Architecture</a><ul><li><a href=/syncesmc/documentation/#design-goals>Design Goals</a></li><li><a href=/syncesmc/documentation/#configuration>Configuration</a></li><li><a href=/syncesmc/documentation/#packet-engine>Packet Engine</a></li><li><a href=/syncesmc/documentation/#esmc-state-machine>ESMC State Machine</a></li><li><a href=/syncesmc/documentation/#external-mux-for-input-signals>External MUX for Input Signals</a></li><li><a href=/syncesmc/documentation/#hardware-abstraction-layer>Hardware Abstraction Layer</a></li><li><a href=/syncesmc/documentation/#external-interface>External Interface</a></li></ul></li></ul><hr><h4 id=overview>Overview</h4><ul><li>ESMC is a Logical Channel which transmits SSM information.</li><li>The SSM information determines the Quality level of EEC.</li><li>It is based on ITU-T G.8264 (03/2018) and ITU-T G.781 (04/2020)</li><li>Ethernet SSM is ITU-T-defined Ethernet Slow Protocol.</li></ul><figure class=figure><img src=/syncesmc/figure1.png class="figure-img img-fluid"></figure><hr><h5 id=synchronization-network-topology>Synchronization Network Topology</h5><figure class=figure><img src=/syncesmc/figure2.png class="figure-img img-fluid"></figure><hr><h5 id=why-syncesmc>Why SyncESMC</h5><ul><li>Hardware Abstracted ESMC stack.</li><li>Compliant to G.781(04/2020) and G.8264 (03/2018).</li><li>Simplified Single Threaded architecture.</li><li>Interaction with PTP Stack (to support IWF).</li><li>Dynamic configuration support.</li><li>Monitoring with FishEye.</li><li>Supports Intel<sup>®</sup> E810XXVDA4T, Renesas<sup>®</sup> ClockMatrix<sup>™</sup> 8A34001, and AuraSemi<sup>®</sup> 5508 PHC.</li></ul><hr><h4 id=architecture>Architecture</h4><figure class=figure><img src=/syncesmc/figure3.jpg class="figure-img img-fluid"></figure><hr><h5 id=design-goals>Design Goals</h5><ul><li>Single Threaded architecture.</li><li>Multiple hardware support using HAL.</li><li>Multi Clock Support.</li><li>External MUX for input signals.</li><li>Futuristic design to support kernel driver support with minimal changes.</li><li>Interaction with multi-vendor PTP stacks.</li><li>In-built support for network configuration and monitoring</li><li>Micro Service compatible for <a href=https://en.wikipedia.org/wiki/SONiC_(operating_system)>SONiC</a>.</li></ul><hr><h5 id=configuration>Configuration</h5><p>Configuration Module has two modes:</p><ol><li>Static Configuration Mode<ul><li>JSON-based configuration file.</li><li>System boots up with the predefined configuration</li><li>Configuration is majorly classified into<ul><li>Device</li><li>Port</li><li>Monitoring</li></ul></li></ul></li><li>Dynamic Configuration<ul><li>REST API</li><li>Netconf-yang model for O-RAN</li></ul></li></ol><hr><h5 id=packet-engine>Packet Engine</h5><p>Packet Engine is involved with the interface-related activity.</p><ul><li>Packet RX</li><li>Packet TX</li><li>Port Link up/ Link down Events (Network Link)</li><li>Packet filtering</li></ul><p>Different types of Sockets and interface types are separated using packet engine library.</p><ul><li>Raw Socket</li><li>UDS Socket</li><li>APIs</li></ul><figure class=figure><img src=/syncesmc/figure4.jpg class="figure-img img-fluid"></figure><hr><h6 id=esmc-state-machine>ESMC State Machine</h6><ul><li>Core of the ESMC stack.</li><li>Interacts with the Packet Engine, Configuration Engine, HAL.</li><li>Decides to select the source port based on the Best Port Selection Algorithm (Quality, Priority, Hops).</li><li>Handles the timer interrupts for Time outs for Hold off time, no activity on the port, Holdover timeout and Restore timers.</li><li>Interacts with HAL to configure the Hardware.</li></ul><figure class=figure><img src=/syncesmc/figure5.jpg class="figure-img img-fluid"></figure><ol><li>Packet Engine updates the packet metadata to Database.</li><li>Configuration can be updated at run time.</li><li>Timer-based events for TX packets, Holdover events, and RX timeout events.</li><li>Hardware events like LOS, OOF, PLL Loss.</li><li>PLL ID and PLL input selection instructions to HAL.</li></ol><hr><h5 id=external-mux-for-input-signals>External MUX for Input Signals</h5><ul><li>Supports Multiplexing, where it can be configured for the maximum number of Sources available for a PLL and the maximum number of inputs which can be given to the PLL.</li><li>Runs an algorithm to select the best ports and based on priority programs the MUX.</li><li>Works with any of the available hardware where the number of inputs to PLL is more than the number of sources available. For e.g Broadcom XGS chips for Data Center switches</li></ul><figure class=figure><img src=/syncesmc/figure6.jpg class="figure-img img-fluid"></figure><hr><h5 id=hardware-abstraction-layer>Hardware Abstraction Layer</h5><ul><li>Hardware vendors can plugin their HAL functions to integrate with SyncESMC.</li><li>Ready for Kernel exposed APIs (in future) for controlling the hardware.</li><li>Hardware interrupt and status monitoring.</li><li>Multiple vendors’ PLLs can be controlled by the same stack.</li></ul><figure class=figure><img src=/syncesmc/figure7.jpg class="figure-img img-fluid"></figure><hr><h5 id=external-interface>External Interface</h5><ul><li>UDS socket can be used to interact with external applications.<ul><li>PTP stack<ul><li>Seamless integration with any PTP stack over a UDS socket.</li><li>SyncESMC can convert Clock Class to Clock quality as per G.8275.2 Annex F.</li></ul></li></ul></li><li>External Application Interfaces<ul><li>FishEye</li><li>Configurations</li></ul></li></ul><figure class=figure><img src=/syncesmc/figure8.jpg class="figure-img img-fluid"></figure><figure class=figure><img src=/syncesmc/figure9.jpg class="figure-img img-fluid"></figure><hr><br><div style=text-align:center><button class="btn btn-primary btn-lg">
<a class="btn btn-primary btn-lg" href>Coming Soon <img src=/images/icons/github.svg></img></a></button>
<button class="btn btn-primary btn-lg">
<a class="btn btn-primary btn-lg" href=/syncesmc/documentation/>Documentation <img src=/images/icons/folder.svg></img></a></button></div><br></div></section><nav class="site-footer navbar navbar-expand-sm mt-auto"><div class=container><ul class=navbar-nav><li class=nav-item title="Mailing lists" aria-label="Mailing lists"><a class=nav-link target=_blank rel="noopener noreferrer" href=https://lists.nwtime.org><img src=/images/icons/envelope.svg width=20 height=20></img></a></li></ul><ul class="mx-auto pt-3"><p>&copy; 2023 <a class="navbar-text text-white" href=https://www.nwtime.org>Network Time Foundation</a></p></ul></div></nav></body></html>